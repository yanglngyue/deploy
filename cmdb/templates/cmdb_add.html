<!--注释是代码之母-->
{% extends 'cmdb_layout.html' %}
{% block link %}
    <link rel="stylesheet" href="/static/plugins/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/sweetalert/sweetalert.css">
{% endblock %}
{% block layout %}
<div class="container">
    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <form action="/cmdb/cmdb_add/" method="post" novalidate>
                {% csrf_token %}
                <div class="form-group {% if form_obj.hostname.errors %}has-error{% endif %}" id="d1">
                    {{ form_obj.hostname.label }}
                    {{ form_obj.hostname }}
                    <span class="help-block">{{ form_obj.hostname.errors }}</span>
                </div>

                <div class="form-group {% if form_obj.network_ip.errors %}has-error{% endif %}" id="d2">
                    {{ form_obj.network_ip.label }}
                    {{ form_obj.network_ip }}
                    <span class="help-block">{{ form_obj.network_ip.errors }}</span>
                </div>
            <div class="form-group {% if form_obj.cpu.errors %}has-error{% endif %}" id="d3">
                    {{ form_obj.cpu.label }}
                    {{ form_obj.cpu }}
                    <span class="help-block">{{ form_obj.cpu.errors }}</span>
                </div>
            <div class="form-group {% if form_obj.memory.errors %}has-error{% endif %}" id="d4">
                    {{ form_obj.memory.label }}
                    {{ form_obj.memory }}
                    <span class="help-block">{{ form_obj.memory.errors }}</span>
                </div>
            <div class="form-group {% if form_obj.disk.errors %}has-error{% endif %}" id="d5">
                    {{ form_obj.disk.label }}
                    {{ form_obj.disk }}
                    <span class="help-block">{{ form_obj.disk.errors }}</span>
                </div>
             <div class="form-group {% if form_obj.ps.errors %}has-error{% endif %}" id="d6">
                    {{ form_obj.ps.label }}
                    {{ form_obj.ps }}
                    <span class="help-block">{{ form_obj.ps.errors }}</span>
                </div>

            <div class="form-group {% if form_obj.Partment.errors %}has-error{% endif %}" id="d7">
                    {{ form_obj.Partment.label }}
                    {{ form_obj.Partment }}
                    <span class="help-block">{{ form_obj.Partment.errors }}</span>
                </div>





                <div class="form-group">
                    <input type="submit" class="btn btn-default">
{#                    <button class="btn btn-danger commit"><i class="fa fa-trash-o">提交</i></button>#}
                </div>
                </form>
        </div>
    </div>

</div>
{% endblock %}
//本次提交界面采用的是form组件，也可以使用ajax提交，只需打开如下注释即可调试
{#{% block script %}#}
{#<script src="/static/js/jquery-3.3.1.min.js"></script>#}
{#<script src="/static/sweetalert/sweetalert.min.js"></script>#}
{#<script src="/static/js/setupajax.js"></script>#}
{##}
{#<script>#}

//本次提交界面采用的是form组件，也可以使用ajax提交，只需打开如下注释即可调试

    // 找到部署按钮绑定事件
{#    $(".commit").on("click", function () {#}
        {#var $trEle = $(this).parent().parent();#}
        {#var delId = $trEle.children().eq(1).text();#}
{#        var hostname = $("#d1").val();#}
{#          var network_ip = $("#d2").val();#}
{#          var cpu = $("#d3").val();#}
{#          var memory = $("#d4").val();#}
{#          var disk = $("#d5").val();#}
{#          var ps = $("#d6").val();#}
{#          var Partment = $("#d7").val();#}
{##}
{#        swal({#}
{#          title: "你确定要提交吗？",#}
{#          text: "一旦部署有问题，请联系运维组人员处理！",#}
{#          type: "warning",#}
{#          showCancelButton: true,#}
{#          confirmButtonClass: "btn-warning",#}
{#          confirmButtonText: "确认",#}
{#          cancelButtonText: "取消",#}
{#          closeOnConfirm: false,#}
{#          showLoaderOnConfirm: true#}
{#        },#}
{#        function(){#}
{#            // 向后端发送删除的请求#}
{#            $.ajax({#}
{#                url: "/cmdb/cmdb_add/",#}
{#                type: "post",#}
{#                data: {"hostname":hostname,"network_ip":network_ip,"cpu":cpu,"memory":memory,"disk":disk,"ps":ps,"Partment":Partment,},#}
{#                success:function (arg) {#}
{#                    swal(arg, "少年，新的数据添加成功了！", "success");#}
{#                }#}
{#            });#}
{##}
{#        });#}
{#    });#}
{##}
{#</script>#}
{##}
{#{% endblock %}#}